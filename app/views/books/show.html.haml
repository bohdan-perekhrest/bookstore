- presenter = BookPresenter.new(@book)
%main.container
  = link_to :back, class: 'general-back-link' do
    %i.fa.fa-long-arrow-left.mr-15
    = t('button.back_to_results')
  .row
    .col-sm-6
      .product-gallery
        .mb-20
          %img.img-responsive{src: @book.image_url}
    .col-sm-6
      %h1.mt-res-0= @book.name
      %p.lead.small= presenter.authors_full_names 
      .row
        = form_for(:order_item, url: order_items_path, method: :post, remote: true) do |f|
          .col-xs-12.col-md-4
            %p.h1.in-gold-500.mt-10= currency_with_price @book.price 
          .col-xs-5.col-md-3
            .input-group.general-position
              %a.input-link{href: "#"}
                %i.fa.fa-minus.line-height-40
              = f.text_field :quantity, value: 1, class: 'form-control quantity-input', min: 1
              %a.input-link{href: "#"}
                %i.fa.fa-plus.line-height-40
          .col-xs-7.col-md-5
            = f.hidden_field :book_id, value: @book.id
            = f.submit 'Add to Cart', class: 'btn btn-default pull-right general-position'
      .general-info-wrap.divider-lg
        %p= t('page.book.show.description')
        %p.lead.small.line-height-2
          = presenter.truncate_description
          = link_to 'Read More', '#collapseExample', role: 'button', 'aria-expanded': false, 'aria-controls':'collapseExample'
      .general-info-wrap.divider-lg
        .clearfix
          %p.pull-left= t('page.book.show.published_at')
          %p.lead.small.pull-right= @book.published_at 
      .general-info-wrap.divider-lg
        .clearfix
          %p.pull-left= t('page.book.show.dimension')
          %p.lead.small.pull-right= presenter.dimensions 
      .general-info-wrap.divider-lg
        .clearfix
          %p.pull-left= t('page.book.show.materials')
          %p.lead.small.pull-right= @book.materials
  .mb-80
    - if current_user.present?
      %h3= t('review.write')
      = render partial: 'review', locals: {user_id: current_user.id, book_id: @book.id}
  .mb-80
    - if @book.reviews.approved.present? 
      = render partial: 'reviews', locals: {reviews: @book.reviews.approved} 
